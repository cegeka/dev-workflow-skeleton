!function(e){function t(e,n){if("string"!=typeof e)throw new TypeError("URL must be a string");var o=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);if(!o)throw new RangeError;var r=o[1]||"",a=o[2]||"",s=o[3]||"",l=o[4]||"",i=o[5]||"",d=o[6]||"",u=o[7]||"",c=o[8]||"",f=o[9]||"";if(void 0!==n){var m=n instanceof t?n:new t(n),p=""===r&&""===l&&""===a;p&&""===u&&""===c&&(c=m.search),p&&"/"!==u.charAt(0)&&(u=""!==u?(""===m.host&&""===m.username||""!==m.pathname?"":"/")+m.pathname.slice(0,m.pathname.lastIndexOf("/")+1)+u:m.pathname);var h=[];u.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?h.pop():h.push(e)}),u=h.join("").replace(/^\//,"/"===u.charAt(0)?"/":""),p&&(d=m.port,i=m.hostname,l=m.host,s=m.password,a=m.username),""===r&&(r=m.protocol)}"file:"==r&&(u=u.replace(/\\/g,"/")),this.origin=r+(""!==r||""!==l?"//":"")+l,this.href=r+(""!==r||""!==l?"//":"")+(""!==a?a+(""!==s?":"+s:"")+"@":"")+l+u+c+f,this.protocol=r,this.username=a,this.password=s,this.host=l,this.hostname=i,this.port=d,this.pathname=u,this.search=c,this.hash=f}e.URLPolyfill=t}("undefined"!=typeof self?self:global),function(e){function t(e,t){var n;if(e instanceof Error){var n=new Error(e.message,e.fileName,e.lineNumber);i?(n.message=e.message+"\n	"+t,n.stack=e.stack):(n.message=e.message,n.stack=e.stack+"\n	"+t)}else n=e+"\n	"+t;return n}function n(e,n,o){try{new Function(e).call(o)}catch(r){throw t(r,"Evaluating "+n)}}function o(){}function r(t){this._loader={loaderObj:this,loads:[],modules:{},importPromises:{},moduleRecords:{}},u(this,"global",{get:function(){return e}})}function a(){r.call(this),this.paths={}}function s(e,t){var n,o="",r=0;for(var a in e){var s=a.split("*");if(s.length>2)throw new TypeError("Only one wildcard in a path is permitted");if(1==s.length){if(t==a){o=a;break}}else{var l=s[0].length;l>=r&&t.substr(0,s[0].length)==s[0]&&t.substr(t.length-s[1].length)==s[1]&&(r=l,o=a,n=t.substr(s[0].length,t.length-s[1].length-s[0].length))}}var i=e[o]||t;return"string"==typeof n&&(i=i.replace("*",n)),i}function l(){}var i=("undefined"==typeof window&&"undefined"!=typeof self&&"undefined"!=typeof importScripts,"undefined"!=typeof window&&"undefined"!=typeof document),d="undefined"!=typeof process&&!!process.platform.match(/^win/);e.console||(e.console={assert:function(){}});var u,c=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1};!function(){try{Object.defineProperty({},"a",{})&&(u=Object.defineProperty)}catch(e){u=function(e,t,n){try{e[t]=n.value||n.get.call(e)}catch(o){}}}}();var f;if("undefined"!=typeof document&&document.getElementsByTagName){if(f=document.baseURI,!f){var m=document.getElementsByTagName("base");f=m[0]&&m[0].href||window.location.href}f=f.split("#")[0].split("?")[0],f=f.substr(0,f.lastIndexOf("/")+1)}else if("undefined"!=typeof process&&process.cwd)f="file://"+(d?"/":"")+process.cwd()+"/",d&&(f=f.replace(/\\/g,"/"));else{if("undefined"==typeof location)throw new TypeError("No environment baseURI");f=e.location.href}var p=e.URLPolyfill||e.URL;u(o.prototype,"toString",{value:function(){return"Module"}}),function(){function a(e){return{status:"loading",name:e,linkSets:[],dependencies:[],metadata:{}}}function s(e,t,n){return new Promise(m({step:n.address?"fetch":"locate",loader:e,moduleName:t,moduleMetadata:n&&n.metadata||{},moduleSource:n.source,moduleAddress:n.address}))}function l(e,t,n,o){return new Promise(function(r,a){r(e.loaderObj.normalize(t,n,o))}).then(function(t){var n;if(e.modules[t])return n=a(t),n.status="linked",n.module=e.modules[t],n;for(var o=0,r=e.loads.length;r>o;o++)if(n=e.loads[o],n.name==t)return console.assert("loading"==n.status||"loaded"==n.status,"loading or loaded"),n;return n=a(t),e.loads.push(n),i(e,n),n})}function i(e,t){d(e,t,Promise.resolve().then(function(){return e.loaderObj.locate({name:t.name,metadata:t.metadata})}))}function d(e,t,n){f(e,t,n.then(function(n){return"loading"==t.status?(t.address=n,e.loaderObj.fetch({name:t.name,metadata:t.metadata,address:n})):void 0}))}function f(t,o,r){r.then(function(r){return"loading"==o.status?Promise.resolve(t.loaderObj.translate({name:o.name,metadata:o.metadata,address:o.address,source:r})).then(function(e){return o.source=e,t.loaderObj.instantiate({name:o.name,metadata:o.metadata,address:o.address,source:e})}).then(function(r){if(void 0===r)return o.address=o.address||"<Anonymous Module "+ ++O+">",o.isDeclarative=!0,j.call(t.loaderObj,o).then(function(t){var r=e.System,a=r.register;r.register=function(e,t,n){"string"!=typeof e&&(n=t,t=e),o.declare=n,o.depsList=t},n(t,o.address,{}),r.register=a});if("object"!=typeof r)throw TypeError("Invalid instantiate return value");o.depsList=r.deps||[],o.execute=r.execute,o.isDeclarative=!1}).then(function(){o.dependencies=[];for(var e=o.depsList,n=[],r=0,a=e.length;a>r;r++)(function(e,r){n.push(l(t,e,o.name,o.address).then(function(t){if(o.dependencies[r]={key:e,value:t.name},"linked"!=t.status)for(var n=o.linkSets.concat([]),a=0,s=n.length;s>a;a++)h(n[a],t)}))})(e[r],r);return Promise.all(n)}).then(function(){console.assert("loading"==o.status,"is loading"),o.status="loaded";for(var e=o.linkSets.concat([]),t=0,n=e.length;n>t;t++)g(e[t],o)}):void 0})["catch"](function(e){o.status="failed",o.exception=e;for(var t=o.linkSets.concat([]),n=0,r=t.length;r>n;n++)y(t[n],o,e);console.assert(0==o.linkSets.length,"linkSets not removed")})}function m(e){return function(t,n){var o=e.loader,r=e.moduleName,s=e.step;if(o.modules[r])throw new TypeError('"'+r+'" already exists in the module table');for(var l,u=0,c=o.loads.length;c>u;u++)if(o.loads[u].name==r&&(l=o.loads[u],"translate"!=s||l.source||(l.address=e.moduleAddress,f(o,l,Promise.resolve(e.moduleSource))),l.linkSets.length&&l.linkSets[0].loads[0].name==l.name))return l.linkSets[0].done.then(function(){t(l)});var m=l||a(r);m.metadata=e.moduleMetadata;var h=p(o,m);o.loads.push(m),t(h.done),"locate"==s?i(o,m):"fetch"==s?d(o,m,Promise.resolve(e.moduleAddress)):(console.assert("translate"==s,"translate step"),m.address=e.moduleAddress,f(o,m,Promise.resolve(e.moduleSource)))}}function p(e,t){var n={loader:e,loads:[],startingLoad:t,loadingCount:0};return n.done=new Promise(function(e,t){n.resolve=e,n.reject=t}),h(n,t),n}function h(e,t){if("failed"!=t.status){console.assert("loading"==t.status||"loaded"==t.status,"loading or loaded on link set");for(var n=0,o=e.loads.length;o>n;n++)if(e.loads[n]==t)return;e.loads.push(t),t.linkSets.push(e),"loaded"!=t.status&&e.loadingCount++;for(var r=e.loader,n=0,o=t.dependencies.length;o>n;n++)if(t.dependencies[n]){var a=t.dependencies[n].value;if(!r.modules[a])for(var s=0,l=r.loads.length;l>s;s++)if(r.loads[s].name==a){h(e,r.loads[s]);break}}}}function v(e){var t=!1;try{S(e,function(n,o){y(e,n,o),t=!0})}catch(n){y(e,null,n),t=!0}return t}function g(e,t){if(console.assert("loaded"==t.status||"linked"==t.status,"loaded or linked"),e.loadingCount--,!(e.loadingCount>0)){var n=e.startingLoad;if(e.loader.loaderObj.execute===!1){for(var o=[].concat(e.loads),r=0,a=o.length;a>r;r++){var t=o[r];t.module=t.isDeclarative?{name:t.name,module:x({}),evaluated:!0}:{module:x({})},t.status="linked",w(e.loader,t)}return e.resolve(n)}var s=v(e);s||(console.assert(0==e.loads.length,"loads cleared"),e.resolve(n))}}function y(e,n,o){var r=e.loader;e:if(n)if(e.loads[0].name==n.name)o=t(o,"Error loading "+n.name);else{for(var a=0;a<e.loads.length;a++)for(var s=e.loads[a],l=0;l<s.dependencies.length;l++){var i=s.dependencies[l];if(i.value==n.name){o=t(o,"Error loading "+n.name+' as "'+i.key+'" from '+s.name);break e}}o=t(o,"Error loading "+n.name+" from "+e.loads[0].name)}else o=t(o,"Error linking "+e.loads[0].name);for(var d=e.loads.concat([]),a=0,u=d.length;u>a;a++){var n=d[a];r.loaderObj.failed=r.loaderObj.failed||[],-1==c.call(r.loaderObj.failed,n)&&r.loaderObj.failed.push(n);var f=c.call(n.linkSets,e);if(console.assert(-1!=f,"link not present"),n.linkSets.splice(f,1),0==n.linkSets.length){var m=c.call(e.loader.loads,n);-1!=m&&e.loader.loads.splice(m,1)}}e.reject(o)}function w(e,t){if(e.loaderObj.trace){e.loaderObj.loads||(e.loaderObj.loads={});var n={};t.dependencies.forEach(function(e){n[e.key]=e.value}),e.loaderObj.loads[t.name]={name:t.name,deps:t.dependencies.map(function(e){return e.key}),depMap:n,address:t.address,metadata:t.metadata,source:t.source,kind:t.isDeclarative?"declarative":"dynamic"}}t.name&&(console.assert(!e.modules[t.name],"load not in module table"),e.modules[t.name]=t.module);var o=c.call(e.loads,t);-1!=o&&e.loads.splice(o,1);for(var r=0,a=t.linkSets.length;a>r;r++)o=c.call(t.linkSets[r].loads,t),-1!=o&&t.linkSets[r].loads.splice(o,1);t.linkSets.splice(0,t.linkSets.length)}function b(e,t,n){try{var r=t.execute()}catch(a){return void n(t,a)}return r&&r instanceof o?r:void n(t,new TypeError("Execution must define a Module instance"))}function k(e,t,n){var o=e._loader.importPromises;return o[t]=n.then(function(e){return o[t]=void 0,e},function(e){throw o[t]=void 0,e})}function S(e,t){var n=e.loader;if(e.loads.length)for(var o=e.loads.concat([]),r=0;r<o.length;r++){var a=o[r],s=b(e,a,t);if(!s)return;a.module={name:a.name,module:s},a.status="linked",w(n,a)}}function E(e,t){return console.assert("linked"==t.status,"is linked "+t.name),t.module.module}function P(){}function j(){throw new TypeError("ES6 transpilation is only provided in the dev module loader build.")}var O=0;r.prototype={constructor:r,define:function(e,t,n){if(this._loader.importPromises[e])throw new TypeError("Module is already loading.");return k(this,e,new Promise(m({step:"translate",loader:this._loader,moduleName:e,moduleMetadata:n&&n.metadata||{},moduleSource:t,moduleAddress:n&&n.address})))},"delete":function(e){var t=this._loader;return delete t.importPromises[e],delete t.moduleRecords[e],t.modules[e]?delete t.modules[e]:!1},get:function(e){return this._loader.modules[e]?(P(this._loader.modules[e],[],this),this._loader.modules[e].module):void 0},has:function(e){return!!this._loader.modules[e]},"import":function(e,t,n){"object"==typeof t&&(t=t.name);var o=this;return Promise.resolve(o.normalize(e,t)).then(function(e){var t=o._loader;return t.modules[e]?(P(t.modules[e],[],t._loader),t.modules[e].module):t.importPromises[e]||k(o,e,s(t,e,{}).then(function(n){return delete t.importPromises[e],E(t,n)}))})},load:function(e,t){var n=this._loader;return n.modules[e]?(P(n.modules[e],[],n),Promise.resolve(n.modules[e].module)):n.importPromises[e]||k(this,e,s(n,e,{}).then(function(t){return delete n.importPromises[e],E(n,t)}))},module:function(e,t){var n=a();n.address=t&&t.address;var o=p(this._loader,n),r=Promise.resolve(e),s=this._loader,l=o.done.then(function(){return E(s,n)});return f(s,n,r),l},newModule:function(e){if("object"!=typeof e)throw new TypeError("Expected object");var t=new o,n=[];if(Object.getOwnPropertyNames&&null!=e)n=Object.getOwnPropertyNames(e);else for(var r in e)n.push(r);for(var a=0;a<n.length;a++)(function(n){u(t,n,{configurable:!1,enumerable:!0,get:function(){return e[n]}})})(n[a]);return t},set:function(e,t){if(!(t instanceof o))throw new TypeError("Loader.set("+e+", module) must be a module");this._loader.modules[e]={module:t}},normalize:function(e,t,n){return e},locate:function(e){return e.name},fetch:function(e){},translate:function(e){return e.source},instantiate:function(e){}};var x=r.prototype.newModule}();var h;l.prototype=r.prototype,a.prototype=new l;var v=/^([^\/]+:\/\/|\/)/;a.prototype.normalize=function(e,t,n){return e=e.match(v)||"."==e[0]?new p(e,t||f).href:new p(s(this.paths,e),f).href},a.prototype.locate=function(e){return e.name},a.prototype.instantiate=function(t){var o=this;return Promise.resolve(o.normalize(o.transpiler)).then(function(r){return t.address===r?{deps:[],execute:function(){var r=e.System,a=e.Reflect.Loader;return n("(function(require,exports,module){"+t.source+"})();",t.address,e),e.System=r,e.Reflect.Loader=a,o.newModule({"default":e[o.transpiler],__useDefault:!0})}}:void 0})};var g;if("undefined"!=typeof XMLHttpRequest)g=function(e,t,n,o){function r(){n(s.responseText)}function a(){o(new Error("XHR error"+(s.status?" ("+s.status+(s.statusText?" "+s.statusText:"")+")":"")+" loading "+e))}var s=new XMLHttpRequest,l=!0,i=!1;if(!("withCredentials"in s)){var d=/^(\w+:)?\/\/([^\/]+)/.exec(e);d&&(l=d[2]===window.location.host,d[1]&&(l&=d[1]===window.location.protocol))}l||"undefined"==typeof XDomainRequest||(s=new XDomainRequest,s.onload=r,s.onerror=a,s.ontimeout=a,s.onprogress=function(){},s.timeout=0,i=!0),s.onreadystatechange=function(){4===s.readyState&&(0==s.status?s.responseText?r():(s.addEventListener("error",a),s.addEventListener("load",r)):200===s.status?r():a())},s.open("GET",e,!0),s.setRequestHeader&&(s.setRequestHeader("Accept","application/x-es-module, */*"),t&&("string"==typeof t&&s.setRequestHeader("Authorization",t),s.withCredentials=!0)),i?setTimeout(function(){s.send()},0):s.send(null)};else if("undefined"!=typeof require&&"undefined"!=typeof process){var y;g=function(e,t,n,o){if("file:///"!=e.substr(0,8))throw new Error('Unable to fetch "'+e+'". Only file URLs of the form file:/// allowed running in Node.');return y=y||require("fs"),e=d?e.replace(/\//g,"\\").substr(8):e.substr(7),y.readFile(e,function(e,t){if(e)return o(e);var r=t+"";"\ufeff"===r[0]&&(r=r.substr(1)),n(r)})}}else{if("undefined"==typeof self||"undefined"==typeof self.fetch)throw new TypeError("No environment fetch API available.");g=function(e,t,n,o){var r={headers:{Accept:"application/x-es-module, */*"}};t&&("string"==typeof t&&(r.headers.Authorization=t),r.credentials="include"),fetch(e,r).then(function(e){if(e.ok)return e.text();throw new Error("Fetch error: "+e.status+" "+e.statusText)}).then(n,o)}}a.prototype.fetch=function(e){return new Promise(function(t,n){g(e.address,void 0,t,n)})},"object"==typeof exports&&(module.exports=r),e.Reflect=e.Reflect||{},e.Reflect.Loader=e.Reflect.Loader||r,e.Reflect.global=e.Reflect.global||e,e.LoaderPolyfill=r,h||(h=new a,h.constructor=a),"object"==typeof exports&&(module.exports=h),e.System=h}("undefined"!=typeof self?self:global);
//# sourceMappingURL=es6-module-loader.min.js.map
